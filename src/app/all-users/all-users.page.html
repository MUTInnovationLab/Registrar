<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon name="arrow-back-outline" slot="start"></ion-icon>
        Back
      </ion-button>
    </ion-buttons>
    <ion-title class="centered-title">All Users</ion-title>
  </ion-toolbar>
  
  <div class="search-container">
    <ion-searchbar placeholder="Search by email, staff number, or role..." 
                  [(ngModel)]="searchTerm"
                  (ionChange)="filterUsers()"
                  animated></ion-searchbar>
  </div>
</ion-header>

<ion-content>
  <div class="table-container">
    <!-- Table Header -->
    <div class="table-header">
      <div class="header-cell">Email</div>
      <div class="header-cell">Staff Number</div>
      <div class="header-cell">Role</div>
      <div class="header-cell">Actions</div>
    </div>
    
    <!-- Table Body -->
    <div class="table-body">
      <div class="table-row" *ngFor="let user of filteredUsers; let i = index" 
           [ngClass]="{'odd': i % 2 !== 0}" 
           [class.selected-row]="selectedUser === user" 
           (click)="selectUser(user)">
        <div class="table-cell">{{ user.email }}</div>
        <div class="table-cell">{{ user.staffNumber }}</div>
        <div class="table-cell">{{ user.position }}</div>
        <div class="table-cell action-cell">
          <ion-button fill="clear" size="small" color="primary">
            <ion-icon name="create-outline"></ion-icon>
          </ion-button>
          <ion-button fill="clear" size="small" color="danger">
            <ion-icon name="trash-outline"></ion-icon>
          </ion-button>
        </div>
      </div>
      
      <div *ngIf="filteredUsers.length === 0" class="empty-state">
        <p>No users found.</p>
      </div>
    </div>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <div class="footer-text">
      Designed with <ion-icon name="heart"></ion-icon> by MUT INNOVATION LAB
    </div>
  </ion-toolbar>
</ion-footer>
